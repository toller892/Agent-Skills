# Skill è¾“å‡ºå†…å®¹è¯¦è§£

## è¾“å‡ºæ–‡ä»¶ç±»åž‹

è¿™ä¸ª skill ä¼šç”Ÿæˆ **ä¸¤ç§æ–‡ä»¶**ï¼š

```
è¾“å…¥                     è¾“å‡º
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚        â”‚  1ï¸âƒ£ .typ     â”‚  â† Typst æºæ–‡ä»¶
â”‚  JSON æ•°æ®   â”‚  â”€â”€>   â”‚              â”‚
â”‚              â”‚        â”‚  2ï¸âƒ£ .pdf     â”‚  â† PDF æ–‡æ¡£
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 1. .typ æºæ–‡ä»¶

### ä»€ä¹ˆæ˜¯ .typ æ–‡ä»¶ï¼Ÿ

Typst æºä»£ç æ–‡ä»¶ï¼Œç±»ä¼¼äºŽï¼š
- LaTeX çš„ `.tex` æ–‡ä»¶
- Markdown çš„ `.md` æ–‡ä»¶
- HTML çš„ `.html` æ–‡ä»¶

### ç‰¹ç‚¹

- âœ… **çº¯æ–‡æœ¬** - å¯ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€
- âœ… **å¯è¯»æ€§å¼º** - è¯­æ³•ç®€æ´ï¼Œæ˜“äºŽç†è§£
- âœ… **å¯ç¼–è¾‘** - å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹å’Œè°ƒæ•´
- âœ… **ç‰ˆæœ¬æŽ§åˆ¶** - å¯ä»¥ç”¨ Git ç®¡ç†
- âœ… **å¯é‡å¤ç¼–è¯‘** - ä¿®æ”¹åŽé‡æ–°ç¼–è¯‘å³å¯

### ç¤ºä¾‹å†…å®¹

```typst
// report_20260120.typ

#import "templates/business.typ": *

#show: report-conf.with(
  title: "2026å¹´1æœˆé”€å”®æŠ¥å‘Š",
  subtitle: "åŽä¸œåŒºåŸŸ",
  author: "é”€å”®éƒ¨",
)

= æ¦‚è§ˆ

æœ¬æœˆé”€å”®ä¸šç»©åˆ›åŽ†å²æ–°é«˜ï¼ŒåŒæ¯”å¢žé•¿ 25%ã€‚

== å…³é”®æŒ‡æ ‡

#kpi-cards((
  (
    label: "æ€»é”€å”®é¢",
    value: "Â¥1,234,567",
    change: 0.25,
  ),
  (
    label: "æ–°å®¢æˆ·",
    value: "156",
    change: 0.18,
  ),
  (
    label: "è®¢å•æ•°",
    value: "892",
    change: 0.12,
  ),
), columns: 3)

= é”€å”®åˆ†æž

æœ¬æœˆé”€å”®ä¸»è¦å¢žé•¿æ¥è‡ªä¼ä¸šå®¢æˆ·ï¼Œå æ¯”è¾¾åˆ° 65%ã€‚

== åŒºåŸŸåˆ†å¸ƒ

#data-table(
  ([*åŒºåŸŸ*], [*é”€å”®é¢*], [*å æ¯”*]),
  (
    ([ä¸Šæµ·], [Â¥456,789], [37%]),
    ([æ­å·ž], [Â¥345,678], [28%]),
    ([å—äº¬], [Â¥234,567], [19%]),
    ([å…¶ä»–], [Â¥197,533], [16%]),
  )
)
```

### ç”¨é€”

1. **æŸ¥çœ‹ç”Ÿæˆé€»è¾‘** - äº†è§£æŠ¥å‘Šæ˜¯å¦‚ä½•ç”Ÿæˆçš„
2. **æ‰‹åŠ¨è°ƒæ•´** - ä¿®æ”¹æ ¼å¼ã€å†…å®¹ã€æ ·å¼
3. **å­¦ä¹  Typst** - ä½œä¸ºå­¦ä¹ ç¤ºä¾‹
4. **ç‰ˆæœ¬æŽ§åˆ¶** - æäº¤åˆ° Git ä»“åº“
5. **é‡å¤ä½¿ç”¨** - ä½œä¸ºæ¨¡æ¿å¤ç”¨

## 2. PDF æ–‡æ¡£

### ä»€ä¹ˆæ˜¯ PDF æ–‡ä»¶ï¼Ÿ

æœ€ç»ˆçš„æŽ’ç‰ˆæ–‡æ¡£ï¼Œå¯ä»¥ï¼š
- ðŸ“§ å‘é€ç»™å®¢æˆ·/åŒäº‹
- ðŸ–¨ï¸ æ‰“å°
- ðŸ“± åœ¨ä»»ä½•è®¾å¤‡æŸ¥çœ‹
- ðŸ”’ ä¿æŒæ ¼å¼ä¸å˜

### ç‰¹ç‚¹

- âœ… **ä¸“ä¸šæŽ’ç‰ˆ** - ç¬¦åˆå‡ºç‰ˆæ ‡å‡†
- âœ… **è·¨å¹³å°** - ä»»ä½•è®¾å¤‡éƒ½èƒ½æ‰“å¼€
- âœ… **æ ¼å¼å›ºå®š** - ä¸ä¼šå› è®¾å¤‡è€Œå˜åŒ–
- âœ… **çŸ¢é‡å›¾è¡¨** - æ”¾å¤§ä¸å¤±çœŸ
- âœ… **å¯æœç´¢** - æ”¯æŒæ–‡æœ¬æœç´¢
- âœ… **å¯æ‰“å°** - é«˜è´¨é‡æ‰“å°

### å†…å®¹ç»“æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              â”‚
â”‚   2026å¹´1æœˆé”€å”®æŠ¥å‘Š          â”‚  â† ç¬¬ 1 é¡µï¼šå°é¢
â”‚   åŽä¸œåŒºåŸŸ                   â”‚
â”‚                              â”‚
â”‚   é”€å”®éƒ¨                     â”‚
â”‚   2026å¹´1æœˆ20æ—¥             â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç›®å½•                       â”‚  â† ç¬¬ 2 é¡µï¼šç›®å½•
â”‚                              â”‚
â”‚   1. æ¦‚è§ˆ ............... 3  â”‚
â”‚   2. é”€å”®åˆ†æž ........... 4  â”‚
â”‚   3. åŒºåŸŸåˆ†å¸ƒ ........... 4  â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1 æ¦‚è§ˆ                       â”‚  â† ç¬¬ 3 é¡µï¼šæ­£æ–‡
â”‚                              â”‚
â”‚ æœ¬æœˆé”€å”®ä¸šç»©åˆ›åŽ†å²æ–°é«˜ï¼Œ     â”‚
â”‚ åŒæ¯”å¢žé•¿ 25%ã€‚               â”‚
â”‚                              â”‚
â”‚ 1.1 å…³é”®æŒ‡æ ‡                 â”‚
â”‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ æ€»é”€å”®é¢ â”‚ æ–°å®¢æˆ·   â”‚è®¢å•æ•°â”‚â”‚
â”‚ â”‚          â”‚          â”‚     â”‚â”‚
â”‚ â”‚Â¥1,234,567â”‚   156    â”‚ 892 â”‚â”‚
â”‚ â”‚  â†‘25%    â”‚  â†‘18%    â”‚â†‘12% â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜â”‚
â”‚                              â”‚
â”‚ 2 é”€å”®åˆ†æž                   â”‚
â”‚                              â”‚
â”‚ æœ¬æœˆé”€å”®ä¸»è¦å¢žé•¿æ¥è‡ªä¼ä¸šå®¢æˆ·ï¼Œâ”‚
â”‚ å æ¯”è¾¾åˆ° 65%ã€‚               â”‚
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         3 / 4                    â† é¡µç 
```

## ç”Ÿæˆæ–¹å¼å¯¹æ¯”

### æ–¹å¼ 1: ä»…ç”Ÿæˆ .typ

```bash
python scripts/generate.py data.json -o report.typ
```

**è¾“å‡ºï¼š**
- âœ… `report.typ` - æºæ–‡ä»¶

**é€‚ç”¨åœºæ™¯ï¼š**
- éœ€è¦æ‰‹åŠ¨è°ƒæ•´æ ¼å¼
- å­¦ä¹  Typst è¯­æ³•
- ä½œä¸ºæ¨¡æ¿ä¿å­˜

### æ–¹å¼ 2: ç”Ÿæˆ .typ + ç¼–è¯‘ PDF

```bash
python scripts/generate.py data.json -o report.typ --compile
```

**è¾“å‡ºï¼š**
- âœ… `report.typ` - æºæ–‡ä»¶
- âœ… `report.pdf` - PDF æ–‡æ¡£

**é€‚ç”¨åœºæ™¯ï¼š**
- éœ€è¦æŸ¥çœ‹æºç 
- å¯èƒ½éœ€è¦ä¿®æ”¹
- ä¿ç•™å®Œæ•´è®°å½•

### æ–¹å¼ 3: å®Œæ•´å·¥ä½œæµï¼ˆæŽ¨èï¼‰

```bash
python scripts/generate_report.py data.json
```

**è¾“å‡ºï¼š**
- âœ… `output/report_20260120_143000.typ` - æºæ–‡ä»¶ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
- âœ… `output/report_20260120_143000.pdf` - PDF æ–‡æ¡£

**é€‚ç”¨åœºæ™¯ï¼š**
- è‡ªåŠ¨åŒ–ç”Ÿæˆ
- æ‰¹é‡ç”ŸæˆæŠ¥å‘Š
- ç”Ÿäº§çŽ¯å¢ƒä½¿ç”¨

### æ–¹å¼ 4: ä»…ä¿ç•™ PDF

```bash
python scripts/generate_report.py data.json --no-keep-typ
```

**è¾“å‡ºï¼š**
- âœ… `output/report_20260120_143000.pdf` - PDF æ–‡æ¡£

**é€‚ç”¨åœºæ™¯ï¼š**
- åªéœ€è¦æœ€ç»ˆæ–‡æ¡£
- èŠ‚çœå­˜å‚¨ç©ºé—´
- å‘é€ç»™å®¢æˆ·

## æ–‡ä»¶å¤§å°å‚è€ƒ

| æ–‡ä»¶ç±»åž‹ | å…¸åž‹å¤§å° | è¯´æ˜Ž |
|---------|---------|------|
| .typ æºæ–‡ä»¶ | 5-50 KB | çº¯æ–‡æœ¬ï¼Œå¾ˆå° |
| PDF æ–‡æ¡£ | 100-500 KB | åŒ…å«å›¾è¡¨ã€æ ¼å¼ |
| å¸¦å›¾ç‰‡çš„ PDF | 1-5 MB | åŒ…å«é«˜æ¸…å›¾ç‰‡ |

## è¾“å‡ºç›®å½•ç»“æž„

```
output/
â”œâ”€â”€ report_20260120_143000.typ    # æºæ–‡ä»¶
â”œâ”€â”€ report_20260120_143000.pdf    # PDF æ–‡æ¡£
â”œâ”€â”€ report_20260120_150000.typ    # å¦ä¸€ä»½æŠ¥å‘Š
â”œâ”€â”€ report_20260120_150000.pdf
â””â”€â”€ ...
```

## å®žé™…ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç”Ÿæˆå‘¨æŠ¥

```bash
# å‡†å¤‡æ•°æ®
cat > weekly-data.json << 'EOF'
{
  "title": "é¡¹ç›®å‘¨æŠ¥ - ç¬¬3å‘¨",
  "author": "é¡¹ç›®ç»„",
  "summary": "æœ¬å‘¨å®Œæˆäº†æ ¸å¿ƒåŠŸèƒ½å¼€å‘...",
  "metrics": [
    {"label": "ä»£ç æäº¤", "value": "45", "change": 0.15}
  ]
}
EOF

# ç”ŸæˆæŠ¥å‘Š
python scripts/generate_report.py weekly-data.json

# è¾“å‡º:
#   output/report_20260120_143000.typ  â† å¯ä»¥æŸ¥çœ‹æºç 
#   output/report_20260120_143000.pdf  â† å‘é€ç»™å›¢é˜Ÿ
```

### ç¤ºä¾‹ 2: æ‰¹é‡ç”Ÿæˆå®¢æˆ·æŠ¥å‘Š

```python
# batch_generate.py
from pathlib import Path
from generate_report import generate_report_workflow

customers = ["å®¢æˆ·A", "å®¢æˆ·B", "å®¢æˆ·C"]

for customer in customers:
    # å‡†å¤‡æ•°æ®
    data = {
        "title": f"{customer} - æœˆåº¦æŠ¥å‘Š",
        "author": "é”€å”®éƒ¨",
        "summary": f"ä¸º {customer} ç”Ÿæˆçš„å®šåˆ¶æŠ¥å‘Š...",
    }
    
    # ä¿å­˜ JSON
    json_file = f"data/{customer}.json"
    with open(json_file, 'w') as f:
        json.dump(data, f, ensure_ascii=False)
    
    # ç”ŸæˆæŠ¥å‘Š
    result = generate_report_workflow(
        json_file=json_file,
        output_dir=f"reports/{customer}",
        keep_typ=False,  # åªä¿ç•™ PDF
    )
    
    print(f"âœ“ ç”Ÿæˆ {customer} çš„æŠ¥å‘Š: {result['pdf_file']}")
```

**è¾“å‡ºï¼š**
```
reports/
â”œâ”€â”€ å®¢æˆ·A/
â”‚   â””â”€â”€ report_20260120_143000.pdf
â”œâ”€â”€ å®¢æˆ·B/
â”‚   â””â”€â”€ report_20260120_143100.pdf
â””â”€â”€ å®¢æˆ·C/
    â””â”€â”€ report_20260120_143200.pdf
```

## æ€»ç»“

| è¾“å‡ºæ–‡ä»¶ | æ ¼å¼ | ç”¨é€” | æ˜¯å¦å¿…éœ€ |
|---------|------|------|---------|
| **.typ æºæ–‡ä»¶** | çº¯æ–‡æœ¬ | æŸ¥çœ‹é€»è¾‘ã€æ‰‹åŠ¨è°ƒæ•´ã€å­¦ä¹  | å¯é€‰ |
| **.pdf æ–‡æ¡£** | äºŒè¿›åˆ¶ | æœ€ç»ˆäº¤ä»˜ã€æ‰“å°ã€åˆ†äº« | å¿…éœ€ |

**æŽ¨èåšæ³•ï¼š**
- å¼€å‘/è°ƒè¯•é˜¶æ®µï¼šä¿ç•™ .typ æ–‡ä»¶
- ç”Ÿäº§çŽ¯å¢ƒï¼šåªä¿ç•™ PDF æ–‡ä»¶
- å­¦ä¹ /æ¨¡æ¿ï¼šä¿ç•™ .typ æ–‡ä»¶ä½œä¸ºå‚è€ƒ
